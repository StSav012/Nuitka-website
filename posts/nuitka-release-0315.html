<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/">
    <link rel="icon" href="../_static/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="../_static/favicon.png" sizes="32x32" type="image/png">
    <link rel="icon" href="../_static/favicon.ico" sizes="32x32" type="image/x-icon">
    <link rel="icon" href="../_static/apple-touch-icon-iphone.png" sizes="57x57" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad.png" sizes="72x72" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-iphone4.png" sizes="114x114" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad3.png" sizes="144x144" type="image/png">
    <link rel="apple-touch-icon" href="../_static/apple-touch-icon-180x180.png" sizes="180x180" type="image/png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nuitka Release 0.3.15 &#8212; Nuitka the Python Compiler  documentation</title>
      <link rel="stylesheet" href="/_static/css/combined_48888c5015cd786ba30be2ae5a8ec195.css" type="text/css">
      <link rel="canonical" href="https://nuitka.net/posts/nuitka-release-0315.html">
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script>var DOCUMENTATION_OPTIONS = {
    URL_ROOT: '../',
    VERSION: '',
    LANGUAGE: 'None',
    COLLAPSE_INDEX: false,
    BUILDER: 'html',
    FILE_SUFFIX: '.html',
    LINK_SUFFIX: '.html',
    HAS_SOURCE: false,
    SOURCELINK_SUFFIX: '.txt',
    NAVIGATION_WITH_KEYS: false,
    SHOW_SEARCH_SUMMARY: true,
    ENABLE_SEARCH_SHORTCUTS: true,
};</script>
        <script src="/_static/combined_9d0826dfcf5ca364c4baefd34061e656.js" async=""></script>
        <link rel="index" title="Index" href="../genindex.html">
    <link rel="alternate" type="application/atom+xml" href="../blog/atom.xml" title="Nuitka Blog">
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../index.html" class="icon icon-home"> Nuitka the Python Compiler
            <div class="logo_container"><img src="../_static/Nuitka-Logo-Symbol.svg" class="logo" alt="Logo" width="208" height="209">
          </div></a><!-- Empty override file take the place of searchbox.html, which generates search box. -->
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/user-manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/support.html">Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Commercial Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/commercial.html">Nuitka Commercial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html">Nuitka Release 0.9 (Draft)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-0-8">Nuitka Release 0.8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-0-7">Nuitka Release 0.7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#older-releases">Older Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/roadmap.html">Roadmap</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/developer-manual.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/api-doc.html">API doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/factory.html">Factory Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Media</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/Presentations.html">Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/Streaming.html">Streaming</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/Credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/impressum.html">Impressum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Under construction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/pyside2.html">Nuitka PySide2 support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/donations.html">Donations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/gsoc2019.html">Google Summer of Code 2019</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nuitka the Python Compiler</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!-- Empty override file take the place of sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
              <section id="nuitka-release-0-3-15">
<h1>Nuitka Release 0.3.15<a class="headerlink" href="#nuitka-release-0-3-15" title="Permalink to this headline">&#61633;</a></h1>
<p>This is to inform you about the new stable release of <a class="reference external" href="https://nuitka.net">Nuitka</a>. It is the extremely compatible Python compiler,
<a class="reference external" href="/doc/download.html">&#8220;download now&#8221;</a>.</p>
<p>This is to inform you about the new stable release of Nuitka. This time
again many organisational improvements, some bug fixes, much improved
compatibility and cleanups.</p>
<p>This release cycle had a focus on packaging Nuitka for easier
consumption, i.e. automatic packaging, making automatic uploads,
improvement documentation, and generally cleaning things up, so that
Nuitka becomes more compatible and ultimately capable to run the &#8220;hg&#8221;
test suite. It&#8217;s not there yet, but this is a huge jump for usability of
Nuitka and its compatibility, again.</p>
<p>Then lots of changes that make Nuitka approach Python3 support, the
generated C++ for at least one large example is compiling with this new
release. It won&#8217;t link, but there will be later releases.</p>
<p>And there is a lot of cleanup going on, geared towards compatibility
with line numbers in the frame object.</p>
<section id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">&#61633;</a></h2>
<ul>
<li><p>The main module was using <code class="docutils literal notranslate"><span class="pre">__main__</span></code> in tracebacks, but it must be
<code class="docutils literal notranslate"><span class="pre">&lt;module&gt;</span></code>. Released as 0.3.14a hot fix already.</p></li>
<li><p>Workaround for &#8220;execfile cannot be used as an expression&#8221;. It wasn&#8217;t
possible to use <code class="docutils literal notranslate"><span class="pre">execfile</span></code> in an expression, only as a statement.</p>
<p>But then there is crazy enough code in e.g. mercurial that uses it in
a lambda function, which made the issue more prominent. The fix now
allows it to be an expression, except on the class level, which
wasn&#8217;t seen yet.</p>
</li>
<li><p>The in-line copy of Scons was not complete enough to work for
&#8220;Windows&#8221; or with <code class="docutils literal notranslate"><span class="pre">--windows-target</span></code> for cross compile. Fixed.</p></li>
<li><p>Cached frames didn&#8217;t release the &#8220;back&#8221; frame, therefore holding
variables of these longer than CPython does, which could cause
ordering problems. Fixed for increased compatibility.</p></li>
<li><p>Handle &#8220;yield outside of function&#8221; syntax error in compiled source
correctly. This one was giving a Nuitka backtrace, now it gives a
<code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code> as it needs to.</p></li>
<li><p>Made syntax/indentation error output absolutely identical to CPython.</p></li>
<li><p>Using the frame objects <code class="docutils literal notranslate"><span class="pre">f_lineno</span></code> may fix endless amounts bugs
related to traceback line numbers.</p></li>
</ul>
</section>
<section id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">&#61633;</a></h2>
<ul class="simple">
<li><p>Guesses the location of the MinGW compiler under Windows to default
install location, so it need not be added to <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment
variable. Removes the need to modify <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment just for
Nuitka to find it.</p></li>
<li><p>Added support for &#8220;lambda generators&#8221;. You don&#8217;t want to know what it
is. Lets just say, it was the last absurd language feature out there,
plus that didn&#8217;t work. It now works perfect.</p></li>
</ul>
</section>
<section id="organisational">
<h2>Organisational<a class="headerlink" href="#organisational" title="Permalink to this headline">&#61633;</a></h2>
<ul class="simple">
<li><p>You can now download a Windows installer and a Debian package that
works on Debian Testing, current Ubuntu and Mint Linux.</p></li>
<li><p>New release scripts give us the ability to have hot fix releases as
download packages immediately. That means the &#8220;git flow&#8221; makes even
more beneficial to the users.</p></li>
<li><p>Including the generated &#8220;README.pdf&#8221; in the distribution archives, so
it can be read instead of &#8220;README.txt&#8221;. The text file is fairly
readable, due to the use of ReStructured Text, but the PDF is even
nicer to read, due to e.g. syntax highlighting of the examples.</p></li>
<li><p>Renamed the main binaries to <code class="docutils literal notranslate"><span class="pre">nuitka</span></code> and <code class="docutils literal notranslate"><span class="pre">nuitka-python</span></code>, so
that there is no dependency on case sensitive file systems.</p></li>
<li><p>For Windows there are batch files <code class="docutils literal notranslate"><span class="pre">nuitka.bat</span></code> and
<code class="docutils literal notranslate"><span class="pre">nuitka-python.bat</span></code> to make Nuitka directly executable without
finding the <code class="docutils literal notranslate"><span class="pre">Python.exe</span></code>, which the batch files can tell from their
own location.</p></li>
<li><p>There are now man pages of <code class="docutils literal notranslate"><span class="pre">nuitka</span></code> and <code class="docutils literal notranslate"><span class="pre">nuitka-python</span></code> with
examples for the most common use cases. They are of course included
in the Debian package.</p></li>
<li><p>Don&#8217;t strip the binary when executing it to analyse compiled binary
with <code class="docutils literal notranslate"><span class="pre">valgrind</span></code>. It will give better information that way, without
changing the code.</p></li>
</ul>
</section>
<section id="optimization">
<h2>Optimization<a class="headerlink" href="#optimization" title="Permalink to this headline">&#61633;</a></h2>
<ul class="simple">
<li><p>Implemented <code class="docutils literal notranslate"><span class="pre">swapcontext</span></code> alike (<code class="docutils literal notranslate"><span class="pre">swapFiber</span></code>) for x64 to achieve
8 times speedup for Generators. It doesn&#8217;t do useless syscalls to
preserve signal masks. Now Nuitka is faster at frame switching than
CPython on x64, which is already good by design.</p></li>
</ul>
</section>
<section id="cleanups">
<h2>Cleanups<a class="headerlink" href="#cleanups" title="Permalink to this headline">&#61633;</a></h2>
<ul>
<li><p>Using the frame objects to store current line of execution avoids the
need to store it away in helper code at all. It ought to also help a
lot with threading support, and makes Nuitka even more compatible,
because now line numbers will be correct even outside tracebacks, but
for mere stack frame dumps.</p></li>
<li><p>Moved the <code class="docutils literal notranslate"><span class="pre">for_return</span></code> detection from code generation to tree
building where it belongs. Yield statements used as return statements
need slightly different code for Python2.6 difference. That solved an
old <code class="docutils literal notranslate"><span class="pre">TODO</span></code>.</p></li>
<li><p>Much Python3 portability work. Sometimes even improving existing
code, the Python compiler code had picked up a few points, where the
latest Nuitka didn&#8217;t work with Python3 anymore, when put to actual
compile.</p>
<p>The test covered only syntax, but e.g. meta classes need different
code in CPython3, and that&#8217;s now supported. Also helper code was made
portable in more places, but not yet fully. This will need more work.</p>
</li>
<li><p>Cleaned up uses of debug defines, so they are now more consistent and
in one place.</p></li>
<li><p>Some more PyLint cleanups.</p></li>
</ul>
</section>
<section id="new-tests">
<h2>New Tests<a class="headerlink" href="#new-tests" title="Permalink to this headline">&#61633;</a></h2>
<ul class="simple">
<li><p>The tests are now executed by Python scripts and cover <code class="docutils literal notranslate"><span class="pre">stderr</span></code>
output too. Before we only checked <code class="docutils literal notranslate"><span class="pre">stdout</span></code>. This unveiled a bunch
of issues Nuitka had, but went unnoticed so far, and triggered e.g.
the frame line number improvements.</p></li>
<li><p>Separate syntax tests.</p></li>
<li><p>The scripts to run the tests now are all in pure Python. This means,
no more MinGW shell is needed to execute the tests.</p></li>
</ul>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">&#61633;</a></h2>
<p>The Debian package, Windows installer, etc. are now automatically
updated and uploaded. From here on, there can be such packages for the
hot fix releases too.</p>
<p>The exception tracebacks are now correct by design, and better covered.</p>
<p>The generator performance work showed that the approach taken by Nuitka
is in fact fast. It was fast on ARM already, but it&#8217;s nice to see that
it&#8217;s now also fast on x64. Programs using generators will be affected a
lot by this.</p>
<p>Overall, this release brings Nuitka closer to usability. Better binary
names, man pages, improved documentation, issue tracker, etc. all there
now. I am in fact now looking for a sponsor for the Debian package to
upload it into Debian directly.</p>
<div class="admonition-update admonition">
<p class="admonition-title">Update</p>
<p>The upload to Debian happened for 0.3.18 and was done by Yaroslav
Halchenko.</p>
</div>
<p>What&#8217;s missing is more &#8220;hg&#8221; completeness. The frame release issue helped
it, but <code class="docutils literal notranslate"><span class="pre">inspect.getargs()</span></code> doesn&#8217;t work yet, and is a topic for a
future release. Won&#8217;t be easy, as <code class="docutils literal notranslate"><span class="pre">func_defaults</span></code> will be an invasive
change too.</p>
</section>
</section>

<div class="section">
    

<div class="section">
  <span style="float: left">
     
    <a href="nuitka-debian-package-and-windows-installer.html">
      <i class="fa fa-arrow-circle-left"></i> Nuitka Debian Package and Windows Installer
    </a>
    
  </span>
  <span>&#160;</span>
  <span style="float: right">
     
    <a href="nuitka-release-0316.html">
      Nuitka Release 0.3.16 <i class="fa fa-arrow-circle-right"></i>
    </a>
    
  </span>
</div>
  
</div>

           </div>
          </div>
          <footer>

  <hr>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Kay Hayen and Nuitka Contributors.</p>
  </div>

  
<div class="share-button-container">
    <div class="socialbutton-wrapper">

        <a href="https://twitter.com/share?url=https://nuitka.net/posts/nuitka-release-0315.html&amp;hashtags=nuitka" target="_blank">
            <div class="socialbutton twitter">
                <p class="icon">
                    <img src="/_static/icon-twitter.png" width="24" height="24">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="https://www.facebook.com/sharer.php?u=https://nuitka.net/posts/nuitka-release-0315.html&amp;hashtag=%23nuitka" target="_blank">
            <div class="socialbutton facebook">
                <p class="icon">
                    <img src="/_static/icon-facebook.png" width="24" height="24">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="http://www.reddit.com/submit?url=https://nuitka.net/posts/nuitka-release-0315.html" target="_blank">
            <div class="socialbutton reddit">
                <p class="icon">
                    <img src="/_static/icon-reddit.png" width="24" height="24">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 switcher-container">
            <summary class="sd-summary-title sd-card-header switcher-title">EN<div class="sd-summary-down docutils">
                    <svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewbox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z">
                        </path>
                    </svg>
                </div>
                <div class="sd-summary-up docutils">
                    <svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewbox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z">
                        </path>
                    </svg>
                </div>
            </summary>
            <div class="sd-summary-content sd-card-body switcher-body docutils">
                <blockquote>
                    <div>
                        <div><div class="line"><a class="reference external" href="/zh_CN/posts/nuitka-release-0315.html">CN</a></div>
                            <div class="line"><a class="reference external" href="/de_DE/posts/nuitka-release-0315.html">DE</a></div>
                            </div></div>
                </blockquote>
            </div>
        </details>
    </div>
</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  </body>
</html>