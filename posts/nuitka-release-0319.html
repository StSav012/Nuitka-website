<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/">
    <link rel="icon" href="../_static/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="../_static/favicon.png" sizes="32x32" type="image/png">
    <link rel="icon" href="../_static/favicon.ico" sizes="32x32" type="image/x-icon">
    <link rel="icon" href="../_static/apple-touch-icon-iphone.png" sizes="57x57" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad.png" sizes="72x72" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-iphone4.png" sizes="114x114" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad3.png" sizes="144x144" type="image/png">
    <link rel="apple-touch-icon" href="../_static/apple-touch-icon-180x180.png" sizes="180x180" type="image/png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nuitka Release 0.3.19 &#8212; Nuitka the Python Compiler  documentation</title>
      <link rel="stylesheet" href="/_static/css/combined_48888c5015cd786ba30be2ae5a8ec195.css" type="text/css">
      <link rel="canonical" href="https://nuitka.net/posts/nuitka-release-0319.html">
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script>var DOCUMENTATION_OPTIONS = {
    URL_ROOT: '../',
    VERSION: '',
    LANGUAGE: 'en',
    COLLAPSE_INDEX: false,
    BUILDER: 'html',
    FILE_SUFFIX: '.html',
    LINK_SUFFIX: '.html',
    HAS_SOURCE: false,
    SOURCELINK_SUFFIX: '.txt',
    NAVIGATION_WITH_KEYS: false,
    SHOW_SEARCH_SUMMARY: true,
    ENABLE_SEARCH_SHORTCUTS: true,
};</script>
        <script src="/_static/combined_1f3d291568f0d25fd5e0e83c3075a3a3.js" async=""></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js" async=""></script>
        <link rel="index" title="Index" href="../genindex.html">
    <link rel="alternate" type="application/atom+xml" href="../blog/atom.xml" title="Nuitka Blog">
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../index.html" class="icon icon-home"> Nuitka the Python Compiler
            <div class="logo_container"><img src="../_static/Nuitka-Logo-Symbol.svg" class="logo" alt="Logo" width="208" height="209">
          </div></a><!-- Empty override file take the place of searchbox.html, which generates search box. -->
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/user-manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/support.html">Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Commercial Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/commercial.html">Nuitka Commercial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/bundles.html">Nuitka Bundles</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html">Nuitka Release 1.2 (Draft)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-1-1">Nuitka Release 1.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-1-0">Nuitka Release 1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#older-releases">Older Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/roadmap.html">Roadmap</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/developer-manual.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/api-doc.html">API doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/factory.html">Factory Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Media</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/Presentations.html">Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/Streaming.html">Streaming</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/Credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/impressum.html">Impressum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Under construction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/pyside2.html">Nuitka PySide2 support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/donations.html">Donations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/gsoc2019.html">Google Summer of Code 2019</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nuitka the Python Compiler</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!-- Empty override file take the place of sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
              <section id="nuitka-release-0-3-19">
<h1>Nuitka Release 0.3.19<a class="headerlink" href="#nuitka-release-0-3-19" title="Permalink to this heading">&#61633;</a></h1>
<p>This is to inform you about the new stable release of <a class="reference external" href="https://nuitka.net">Nuitka</a>. It is the extremely compatible Python compiler,
<a class="reference external" href="/doc/download.html">&#8220;download now&#8221;</a>.</p>
<p>This time there are a few bug fixes, major cleanups, more Python3
support, and even new features. A lot things in this are justifying a
new release.</p>
<section id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this heading">&#61633;</a></h2>
<ul class="simple">
<li><p>The man pages of <code class="docutils literal notranslate"><span class="pre">nuitka</span></code> and <code class="docutils literal notranslate"><span class="pre">nuitka-python</span></code> had no special
layout for the option groups and broken whitespace for
<code class="docutils literal notranslate"><span class="pre">--recurse-to</span></code> option. Also <code class="docutils literal notranslate"><span class="pre">--g++-only</span></code> was only partially bold.
Released as 0.3.18.1 hot fix already.</p></li>
<li><p>The command line length improvement we made to Scons for Windows was
not portable to Python2.6. Released as 0.3.18.2 hot fix already.</p></li>
<li><p>Code to detect already considered packages detection was not portable
to Windows, for one case, there was still a use of <code class="docutils literal notranslate"><span class="pre">/</span></code> instead of
using a <code class="docutils literal notranslate"><span class="pre">joinpath</span></code> call. Released as 0.3.18.3 already.</p></li>
<li><p>A call to the range built-in with no arguments would crash the
compiler, see Released as 0.3.18.4 already.</p></li>
<li><p>Compatibility Fix: When rich comparison operators returned false
value other <code class="docutils literal notranslate"><span class="pre">False</span></code>, for comparison chains, these would not be
used, but <code class="docutils literal notranslate"><span class="pre">False</span></code> instead, see .</p></li>
<li><p>The support for <code class="docutils literal notranslate"><span class="pre">__import__</span></code> didn&#8217;t cover keyword arguments, these
were simply ignored. Fixed, but no warning is given yet.</p></li>
</ul>
</section>
<section id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this heading">&#61633;</a></h2>
<ul class="simple">
<li><p>A new option has been added, one can now specify
<code class="docutils literal notranslate"><span class="pre">--recurse-directory</span></code> and Nuitka will attempt to embed these
modules even if not obviously imported. This is not yet working
perfect yet, but will receive future improvements.</p></li>
<li><p>Added support for the <code class="docutils literal notranslate"><span class="pre">exec</span></code> built-in of Python3, this enables us
to run one more basic test, <code class="docutils literal notranslate"><span class="pre">GlobalStatement.py</span></code> with Python3. The
test <code class="docutils literal notranslate"><span class="pre">ExecEval.py</span></code> nearly works now.</p></li>
</ul>
</section>
<section id="optimization">
<h2>Optimization<a class="headerlink" href="#optimization" title="Permalink to this heading">&#61633;</a></h2>
<ul class="simple">
<li><p>The no arguments <code class="docutils literal notranslate"><span class="pre">range()</span></code> call now optimized into the static
CPython exception it raises.</p></li>
<li><p>Parts of comparison chains with constant arguments are now optimized
away.</p></li>
</ul>
</section>
<section id="cleanups">
<h2>Cleanups<a class="headerlink" href="#cleanups" title="Permalink to this heading">&#61633;</a></h2>
<ul>
<li><p>Simplified the <code class="docutils literal notranslate"><span class="pre">CPythonExpressionComparison</span></code> node, it now always
has only 2 operands.</p>
<p>If there are more, the so called &#8220;comparison chain&#8221;, it&#8217;s done via
<code class="docutils literal notranslate"><span class="pre">and</span></code> with assignments to temporary variables, which are expressed
by a new node type <code class="docutils literal notranslate"><span class="pre">CPythonExpressionTempVariableRef</span></code>. This allowed
to remove <code class="docutils literal notranslate"><span class="pre">expression_temps</span></code> from C++ code templates and
generation, reducing the overall complexity.</p>
</li>
<li><p>When executing a module (<code class="docutils literal notranslate"><span class="pre">--execute</span></code> but not <code class="docutils literal notranslate"><span class="pre">--exe</span></code>), no longer
does Nuitka import it into itself, instead a new interpreter is
launched with a fresh environment.</p></li>
<li><p>The calls to the variadic <code class="docutils literal notranslate"><span class="pre">MAKE_TUPLE</span></code> were replaced with calls the
<code class="docutils literal notranslate"><span class="pre">MAKE_TUPLExx</span></code> (where <code class="docutils literal notranslate"><span class="pre">xx</span></code> is the number of arguments), that are
generated on a as-needed basis. This gives more readable code,
because no <code class="docutils literal notranslate"><span class="pre">EVAL_ORDERED_xx</span></code> is needed at call site anymore.</p></li>
<li><p>Many node classes have moved to new modules in <code class="docutils literal notranslate"><span class="pre">nuitka.nodes</span></code> and
grouped by theme. That makes them more accessible.</p></li>
<li><p>The choosing of the debug python has moved from Scons to Nuitka
itself. That way it can respect the <code class="docutils literal notranslate"><span class="pre">sys.abiflags</span></code> and works with
Python3.</p></li>
<li><p>The replacing of <code class="docutils literal notranslate"><span class="pre">.py</span></code> in filenames was made more robust. No longer
is <code class="docutils literal notranslate"><span class="pre">str.replace</span></code> used, but instead proper means to assure that
having <code class="docutils literal notranslate"><span class="pre">.py</span></code> as other parts of the filenames won&#8217;t be a trouble.</p></li>
<li><p>Module recursion was changed into its own module, instead of being
hidden in the optimization that considers import statements.</p></li>
<li><p>As always, some PyLint work, and some minor <code class="docutils literal notranslate"><span class="pre">TODO</span></code> were solved.</p></li>
</ul>
</section>
<section id="organisational">
<h2>Organisational<a class="headerlink" href="#organisational" title="Permalink to this heading">&#61633;</a></h2>
<ul class="simple">
<li><p>Added more information to the <a class="reference external" href="https://nuitka.net/doc/developer-manual.html">Developer Manual</a>, e.g. documenting
the tree changes for <code class="docutils literal notranslate"><span class="pre">assert</span></code> to become a conditional statement
with a raise statement, etc.</p></li>
<li><p>The Debian package is as of this version verified to be installable
and functional on to Ubuntu Natty, Maverick, Oneiric, and Precise.</p></li>
<li><p>Added support to specify the binary under test with a <code class="docutils literal notranslate"><span class="pre">NUITKA</span></code>
environment, so the test framework can run with installed version of
Nuitka too.</p></li>
<li><p>Made sure the test runners work under Windows as well. Required
making them more portable. And a workaround for <code class="docutils literal notranslate"><span class="pre">os.execl</span></code> not
propagating exit codes under Windows.</p></li>
<li><p>For windows target the MinGW library is now linked statically. That
means there is no requirement for MinGW to be in the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> or even
installed to execute the binary.</p></li>
</ul>
</section>
<section id="new-tests">
<h2>New Tests<a class="headerlink" href="#new-tests" title="Permalink to this heading">&#61633;</a></h2>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">basic</span></code>, <code class="docutils literal notranslate"><span class="pre">programs</span></code>, <code class="docutils literal notranslate"><span class="pre">syntax</span></code>, and <code class="docutils literal notranslate"><span class="pre">reflected</span></code> were made
executable under Windows. Occasionally this meant to make the test
runners more portable, or to work around limitations.</p></li>
<li><p>Added test to cover return values of rich comparisons in comparison
chains, and order of argument evaluation for comparison chains.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">Referencing.py</span></code> test was made portable to Python3.</p></li>
<li><p>Cover no arguments <code class="docutils literal notranslate"><span class="pre">range()</span></code> exception as well.</p></li>
<li><p>Added test to demonstrate that <code class="docutils literal notranslate"><span class="pre">--recurse-directory</span></code> actually
works. This is using an <code class="docutils literal notranslate"><span class="pre">__import__</span></code> that cannot be predicted at
run time (yet).</p></li>
<li><p>The created source package is now tested on pbuilder chroots to be
pass installation and the basic tests, in addition to the full tests
during package build time on these chroots. This will make sure, that
Nuitka works fine on Ubuntu Natty and doesn&#8217;t break without notice.</p></li>
</ul>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this heading">&#61633;</a></h2>
<p>This releases contains many changes. The &#8220;temporary variable ref&#8221; and
&#8220;assignment expression&#8221; work is ground breaking. I foresee that it will
lead to even more simplifications of code generation in the future, when
e.g. in-place assignments can be reduced to assignments to temporary
variables and conditional statements.</p>
<p>While there were many improvements related to Windows support and fixing
portability bugs, or the Debian package, the real focus is the
optimization work, which will ultimately end with &#8220;value propagation&#8221;
working.</p>
<p>These are the real focus. The old comparison chain handling was a big
wart. Working, but no way understood by any form of analysis in Nuitka.
Now they have a structure which makes their code generation based on
semantics and allows for future optimization to see through them.</p>
<p>Going down this route is an important preparatory step. And there will
be more work like this needed. Consider e.g. handling of in-place
assignments. With an &#8220;assignment expression&#8221; to a &#8220;temporary variable
ref&#8221;, these become the same as user code using such a variable. There
will be more of these to find.</p>
<p>So, that is where the focus is. The release now was mostly aiming at
getting involved fixes out. The bug fixed by comparison chain reworking,
and the <code class="docutils literal notranslate"><span class="pre">__import__</span></code> related one, were not suitable for hot fix
releases, so that is why the 0.3.19 release had to occur now. But with
plugin support, with this comparison chain cleanup, with improved
Python3 support, and so on, there was plenty of good stuff already, also
worth to get out.</p>
</section>
</section>

<div class="section">
    

<div class="section">
  <span style="float: left">
     
    <a href="static-site-generator.html">
      <i class="fa fa-arrow-circle-left"></i> Static Site Generator
    </a>
    
  </span>
  <span>&#160;</span>
  <span style="float: right">
     
    <a href="ubuntu-packages-for-nuitka.html">
      Ubuntu Packages for Nuitka <i class="fa fa-arrow-circle-right"></i>
    </a>
    
  </span>
</div>
  
</div>

           </div>
          </div>
          <footer>

  <hr>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Kay Hayen and Nuitka Contributors.</p>
  </div>

  
<div class="share-button-container">
    <div class="socialbutton-wrapper">

        <a href="https://twitter.com/share?url=https://nuitka.net/posts/nuitka-release-0319.html&amp;hashtags=nuitka" target="_blank">
            <div class="socialbutton twitter">
                <p class="icon">
                    <img src="/_static/icon-twitter.png" width="24" height="24">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="https://www.facebook.com/sharer.php?u=https://nuitka.net/posts/nuitka-release-0319.html&amp;hashtag=%23nuitka" target="_blank">
            <div class="socialbutton facebook">
                <p class="icon">
                    <img src="/_static/icon-facebook.png" width="24" height="24">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="http://www.reddit.com/submit?url=https://nuitka.net/posts/nuitka-release-0319.html" target="_blank">
            <div class="socialbutton reddit">
                <p class="icon">
                    <img src="/_static/icon-reddit.png" width="24" height="24">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3 switcher-container">
            <summary class="sd-summary-title sd-card-header switcher-title">EN<div class="sd-summary-down docutils">
                    <svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewbox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z">
                        </path>
                    </svg>
                </div>
                <div class="sd-summary-up docutils">
                    <svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewbox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z">
                        </path>
                    </svg>
                </div>
            </summary>
            <div class="sd-summary-content sd-card-body switcher-body docutils">
                <blockquote>
                    <div>
                        <div><div class="line"><a class="reference external" href="/de_DE/posts/nuitka-release-0319.html">DE</a></div>
                            <div class="line"><a class="reference external" href="/zh_CN/posts/nuitka-release-0319.html">CN</a></div>
                            </div></div>
                </blockquote>
            </div>
        </details>
    </div>
</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  </body>
</html>